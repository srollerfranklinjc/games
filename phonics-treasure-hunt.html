<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phonics Treasure Hunt - Sloane's Learning Adventure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', 'Arial Rounded MT Bold', cursive, sans-serif;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .game-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .header h1 {
            color: #f5576c;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .treasure-chest {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .treasure-item {
            font-size: 2em;
            opacity: 0.3;
            transition: all 0.3s;
        }

        .treasure-item.collected {
            opacity: 1;
            animation: treasure-pop 0.5s;
        }

        @keyframes treasure-pop {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        .score-display {
            font-size: 1.5em;
            color: #666;
            margin-top: 10px;
        }

        .game-area {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .challenge {
            background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            margin-bottom: 30px;
            border: 3px solid #fbc02d;
        }

        .challenge-title {
            font-size: 1.3em;
            color: #666;
            margin-bottom: 15px;
        }

        .word-family {
            font-size: 2.5em;
            font-weight: bold;
            color: #f5576c;
            margin-bottom: 15px;
        }

        .word-example {
            font-size: 1.2em;
            color: #666;
            font-style: italic;
        }

        .picture-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .picture-card {
            background: #f8f9fa;
            border: 3px solid #dee2e6;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .picture-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border-color: #f5576c;
        }

        .picture-card.correct {
            background: #d4edda;
            border-color: #28a745;
            animation: correct-flash 0.6s;
            pointer-events: none;
        }

        .picture-card.incorrect {
            animation: shake 0.5s;
            border-color: #dc3545;
        }

        @keyframes correct-flash {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .picture-emoji {
            font-size: 5em;
            margin-bottom: 15px;
            display: block;
        }

        .picture-label {
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
        }

        .check-mark {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 2em;
            display: none;
        }

        .picture-card.correct .check-mark {
            display: block;
        }

        .feedback {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            min-height: 50px;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .feedback.correct {
            color: #28a745;
            background: #d4edda;
        }

        .feedback.incorrect {
            color: #dc3545;
            background: #f8d7da;
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 15px 35px;
            font-size: 1.2em;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .btn-next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: none;
        }

        .btn-next.show {
            display: inline-block;
        }

        .btn-next:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        .btn-home {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            display: inline-block;
        }

        .hint-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: 3px solid #f5576c;
            border-radius: 12px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            color: #f5576c;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .hint-toggle:hover {
            background: #f5576c;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .word-example.hidden {
            opacity: 0;
            height: 0;
            overflow: hidden;
            margin: 0;
            transition: all 0.3s;
        }

        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            animation: confetti-fall 3s linear;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .game-complete {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            text-align: center;
            z-index: 1001;
            transition: transform 0.3s;
            max-width: 90%;
        }

        .game-complete.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .game-complete h2 {
            color: #f5576c;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 1.8em;
            }

            .picture-emoji {
                font-size: 3.5em;
            }

            .word-family {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>üè¥‚Äç‚ò†Ô∏è Phonics Treasure Hunt üè¥‚Äç‚ò†Ô∏è</h1>
            <p>Find pictures that match the word family!</p>
            
            <div class="treasure-chest" id="treasure-chest">
                <span class="treasure-item">üíé</span>
                <span class="treasure-item">üëë</span>
                <span class="treasure-item">üèÜ</span>
                <span class="treasure-item">üí∞</span>
                <span class="treasure-item">üìø</span>
                <span class="treasure-item">üéñÔ∏è</span>
                <span class="treasure-item">üî±</span>
                <span class="treasure-item">‚öúÔ∏è</span>
            </div>
            
            <div class="score-display">
                Treasures Found: <span id="score">0</span> / 8
            </div>
        </div>

        <div class="game-area">
            <div class="challenge">
                <button class="hint-toggle" onclick="toggleHint()">
                    üí° <span id="hint-toggle-text">Hide</span> Hints
                </button>
                <div class="challenge-title">Find ALL pictures with the word family:</div>
                <div class="word-family" id="word-family">-at</div>
                <div class="word-example" id="word-example">(like "cat" or "hat")</div>
            </div>

            <div class="picture-grid" id="picture-grid">
                <!-- Pictures will be dynamically added here -->
            </div>

            <div class="feedback" id="feedback"></div>

            <div class="button-group">
                <button class="btn btn-next" id="next-btn" onclick="nextChallenge()">Next Treasure! ‚Üí</button>
            </div>
        </div>
    </div>

    <div class="celebration" id="celebration"></div>

    <script>
        // Word families with matching and non-matching words
        const challenges = [
            {
                family: '-at',
                example: '"cat", "hat", "bat"',
                correct: [
                    { word: 'cat', emoji: 'üê±' },
                    { word: 'hat', emoji: 'üé©' },
                    { word: 'bat', emoji: 'ü¶á' }
                ],
                incorrect: [
                    { word: 'dog', emoji: 'üêï' },
                    { word: 'sun', emoji: '‚òÄÔ∏è' },
                    { word: 'car', emoji: 'üöó' }
                ]
            },
            {
                family: '-ake',
                example: '"cake", "lake", "snake"',
                correct: [
                    { word: 'cake', emoji: 'üéÇ' },
                    { word: 'rake', emoji: 'üçÇ' },
                    { word: 'snake', emoji: 'üêç' }
                ],
                incorrect: [
                    { word: 'ball', emoji: '‚öΩ' },
                    { word: 'tree', emoji: 'üå≥' },
                    { word: 'fish', emoji: 'üê†' }
                ]
            },
            {
                family: '-op',
                example: '"hop", "mop", "top"',
                correct: [
                    { word: 'mop', emoji: 'üßπ' },
                    { word: 'pop', emoji: 'üéà' },
                    { word: 'stop', emoji: 'üõë' }
                ],
                incorrect: [
                    { word: 'ring', emoji: 'üíç' },
                    { word: 'boot', emoji: 'üë¢' },
                    { word: 'star', emoji: '‚≠ê' }
                ]
            },
            {
                family: '-ine',
                example: '"nine", "pine", "line"',
                correct: [
                    { word: 'nine', emoji: '9Ô∏è‚É£' },
                    { word: 'pine', emoji: 'üå≤' },
                    { word: 'vine', emoji: 'üçá' }
                ],
                incorrect: [
                    { word: 'moon', emoji: 'üåô' },
                    { word: 'clock', emoji: 'üïê' },
                    { word: 'frog', emoji: 'üê∏' }
                ]
            },
            {
                family: '-ug',
                example: '"bug", "hug", "mug"',
                correct: [
                    { word: 'bug', emoji: 'üêõ' },
                    { word: 'hug', emoji: 'ü§ó' },
                    { word: 'mug', emoji: '‚òï' }
                ],
                incorrect: [
                    { word: 'kite', emoji: 'ü™Å' },
                    { word: 'bell', emoji: 'üîî' },
                    { word: 'sock', emoji: 'üß¶' }
                ]
            },
            {
                family: '-eet',
                example: '"feet", "meet", "sweet"',
                correct: [
                    { word: 'feet', emoji: 'üë£' },
                    { word: 'beet', emoji: 'ü•¨' },
                    { word: 'sheet', emoji: 'üìÑ' }
                ],
                incorrect: [
                    { word: 'book', emoji: 'üìö' },
                    { word: 'lamp', emoji: 'üí°' },
                    { word: 'duck', emoji: 'ü¶Ü' }
                ]
            },
            {
                family: '-ail',
                example: '"mail", "tail", "sail"',
                correct: [
                    { word: 'mail', emoji: 'üì¨' },
                    { word: 'tail', emoji: 'ü¶é' },
                    { word: 'snail', emoji: 'üêå' }
                ],
                incorrect: [
                    { word: 'bear', emoji: 'üêª' },
                    { word: 'drum', emoji: 'ü•Å' },
                    { word: 'gift', emoji: 'üéÅ' }
                ]
            },
            {
                family: '-ock',
                example: '"rock", "clock", "sock"',
                correct: [
                    { word: 'rock', emoji: 'ü™®' },
                    { word: 'clock', emoji: '‚è∞' },
                    { word: 'sock', emoji: 'üß¶' }
                ],
                incorrect: [
                    { word: 'plane', emoji: '‚úàÔ∏è' },
                    { word: 'whale', emoji: 'üêã' },
                    { word: 'flame', emoji: 'üî•' }
                ]
            }
        ];

        let currentChallenge = 0;
        let treasuresFound = 0;
        let currentCorrectFound = 0;
        let totalCorrectNeeded = 0;
        let hintsVisible = true;

        function toggleHint() {
            hintsVisible = !hintsVisible;
            const wordExample = document.getElementById('word-example');
            const toggleText = document.getElementById('hint-toggle-text');
            
            if (hintsVisible) {
                wordExample.classList.remove('hidden');
                toggleText.textContent = 'Hide';
            } else {
                wordExample.classList.add('hidden');
                toggleText.textContent = 'Show';
            }
        }

        function initGame() {
            loadChallenge();
        }

        function loadChallenge() {
            if (currentChallenge >= challenges.length) {
                showGameComplete();
                return;
            }

            const challenge = challenges[currentChallenge];
            totalCorrectNeeded = challenge.correct.length;
            currentCorrectFound = 0;

            document.getElementById('word-family').textContent = challenge.family;
            document.getElementById('word-example').textContent = challenge.example;
            
            // Maintain hint visibility state
            const wordExample = document.getElementById('word-example');
            if (!hintsVisible) {
                wordExample.classList.add('hidden');
            } else {
                wordExample.classList.remove('hidden');
            }

            // Combine and shuffle pictures
            const allPictures = [...challenge.correct, ...challenge.incorrect];
            allPictures.sort(() => Math.random() - 0.5);

            // Create picture cards
            const grid = document.getElementById('picture-grid');
            grid.innerHTML = '';

            allPictures.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'picture-card';
                card.innerHTML = `
                    <span class="picture-emoji">${item.emoji}</span>
                    <div class="picture-label">${item.word}</div>
                    <span class="check-mark">‚úì</span>
                `;
                
                const isCorrect = challenge.correct.some(c => c.word === item.word);
                card.onclick = () => checkPicture(card, isCorrect);
                
                grid.appendChild(card);
            });

            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('next-btn').classList.remove('show');
        }

        function checkPicture(card, isCorrect) {
            if (card.classList.contains('correct')) {
                return; // Already selected
            }

            const feedback = document.getElementById('feedback');

            if (isCorrect) {
                card.classList.add('correct');
                currentCorrectFound++;
                
                feedback.textContent = `‚ú® Yes! "${card.querySelector('.picture-label').textContent}" belongs to this word family!`;
                feedback.className = 'feedback correct';

                if (currentCorrectFound === totalCorrectNeeded) {
                    treasuresFound++;
                    updateTreasures();
                    celebrate();
                    
                    setTimeout(() => {
                        feedback.textContent = `üéâ You found all ${totalCorrectNeeded}! Treasure collected!`;
                        document.getElementById('next-btn').classList.add('show');
                    }, 1000);
                }
            } else {
                card.classList.add('incorrect');
                feedback.textContent = `Not quite! "${card.querySelector('.picture-label').textContent}" doesn't match the ${document.getElementById('word-family').textContent} family.`;
                feedback.className = 'feedback incorrect';

                setTimeout(() => {
                    card.classList.remove('incorrect');
                }, 500);
            }
        }

        function updateTreasures() {
            const treasureItems = document.querySelectorAll('.treasure-item');
            if (treasuresFound <= treasureItems.length) {
                treasureItems[treasuresFound - 1].classList.add('collected');
            }
            document.getElementById('score').textContent = treasuresFound;
        }

        function nextChallenge() {
            currentChallenge++;
            loadChallenge();
        }

        function celebrate() {
            const celebration = document.getElementById('celebration');
            
            for (let i = 0; i < 40; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.background = ['#f39c12', '#e74c3c', '#3498db', '#2ecc71', '#9b59b6', '#FFD700'][Math.floor(Math.random() * 6)];
                confetti.style.animationDelay = Math.random() * 0.3 + 's';
                celebration.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 3000);
            }
        }

        function showGameComplete() {
            const completeDiv = document.createElement('div');
            completeDiv.className = 'game-complete';
            completeDiv.innerHTML = `
                <h2>üéä Treasure Hunt Complete! üéä</h2>
                <div style="font-size: 4em; margin: 20px 0;">üè¥‚Äç‚ò†Ô∏èüíéüëëüèÜüí∞üìø</div>
                <p style="font-size: 1.8em; margin-bottom: 15px;">You found all ${treasuresFound} treasures!</p>
                <p style="font-size: 1.3em; color: #666; margin-bottom: 30px;">You're a Phonics Pirate!</p>
                <button class="btn btn-home" onclick="location.reload()">Hunt Again!</button>
                <a href="index.html" class="btn btn-home" style="margin-left: 10px;">Back to Games</a>
            `;
            document.body.appendChild(completeDiv);
            
            setTimeout(() => {
                completeDiv.classList.add('show');
            }, 100);
            
            celebrate();
        }

        // Start the game
        initGame();
    </script>
</body>
</html>
